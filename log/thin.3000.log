>> Writing PID to tmp/pids/thin.3000.pid
>> Thin web server (v1.5.1 codename Straight Razor)
>> Maximum connections set to 1024
>> Listening on 127.0.0.1:3000, CTRL+C to stop
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=3
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"daf54b2b4f56558a", :key=>"0ff543517ad4e288fe3439a213566e08"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=5
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"77c89b42da930575", :key=>"74c6416429ef4a806eac5110e4bd1a89"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/user/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/user.rb:9:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):570:in `block in call'
	(eval):560:in `catch'
	(eval):560:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=8
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"717fda00f5486015", :key=>"29578b29c5a5f8d951a2f3a739d710ef"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=10
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"7492bed26b72098d", :key=>"189cb3cff8a45af30d033968efcfed77"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=12
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"2a82adb6b2d0f230", :key=>"c4888e556c4adb53a62c0cdfcdd4ba5f"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=14
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"91d43a1276a88fec", :key=>"0276b6b864b0a7def533573bc91bfb08"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=16
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"2818148b8a2053cf", :key=>"7dd1b4c00667b6b269463b29c388b6d1"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=18
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"d9b36a03468b0213", :key=>"91698a5f674baae56782c8e94c9b1ee7"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
Moped::Errors::AuthenticationFailure - The operation: #<Moped::Protocol::Commands::Authenticate
  @length=152
  @request_id=20
  @response_to=0
  @op_code=2004
  @flags=[]
  @full_collection_name="improva.$cmd"
  @skip=0
  @limit=-1
  @selector={:authenticate=>1, :user=>"improva", :nonce=>"7de4a78af7458bdd", :key=>"892035bbc3864f274c79d5bbc4bb252a"}
  @fields=nil>
failed with error 18: "auth fails"

See https://github.com/mongodb/mongo/blob/master/docs/errors.md
for details about this error.:
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:500:in `login'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:57:in `block in apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/node.rb:56:in `apply_auth'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cluster.rb:250:in `with_secondary'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/session/context.rb:104:in `with_node'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:137:in `load_docs'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/cursor.rb:25:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/moped-1.4.5/lib/moped/query.rb:76:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:132:in `block in each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:556:in `selecting'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual/mongo.rb:131:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/contextual.rb:18:in `each'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `entries'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/mongoid-3.0.23/lib/mongoid/criteria.rb:490:in `respond_to?'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:138:in `collection'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/views/transaction_pack/index.rabl:1:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/engine.rb:33:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rabl-0.8.4/lib/rabl/template.rb:15:in `evaluate'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/tilt-1.3.6/lib/tilt/template.rb:77:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:794:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/rendering.rb:219:in `render'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-helpers-0.11.1/lib/padrino-helpers/output_helpers.rb:20:in `render'
	/Users/andreichernykh/Documents/Projects/imprapi/reactor2/app/controllers/transaction_pack.rb:13:in `block (2 levels) in <top (required)>'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:624:in `block in route'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `[]'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (3 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:960:in `route_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block (2 levels) in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:53:in `block in process_destination_path'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `instance_eval'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:28:in `process_destination_path'
	(eval):267:in `block in call'
	(eval):257:in `catch'
	(eval):257:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/http_router-0.11.0/lib/http_router.rb:307:in `raw_call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:997:in `route!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:982:in `block in dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/padrino-core-0.11.1/lib/padrino-core/application/routing.rb:980:in `dispatch!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `block in call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `block in invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `catch'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:1035:in `invoke'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:878:in `call!'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/sinatra-1.4.2/lib/sinatra/base.rb:864:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/head.rb:11:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/methodoverride.rb:21:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:225:in `context'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-1.5.2/lib/rack/session/abstract/id.rb:220:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/rack/fiber_pool.rb:22:in `block in call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `call'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:48:in `block (3 levels) in initialize'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `loop'
	/Users/andreichernykh/.rbenv/versions/1.9.3-p392/lib/ruby/gems/1.9.1/gems/rack-fiber_pool-0.9.3/lib/fiber_pool.rb:47:in `block (2 levels) in initialize'
